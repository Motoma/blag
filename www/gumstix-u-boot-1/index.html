<!DOCTYPE html>
<html>

<head lang="en">
  <title>Blog &raquo; motoma.io</title>
  <base href="../../" />

  <meta name="generator" content="Blagmaster" />
  <meta http-equiv="Content-type" content="text/html; charset=utf-8" />

  <link rel="shortcut icon" href="/favicon.ico" />
  <link rel="stylesheet" type="text/css" href="static/layout.css" />
</head>

<body>
  <header>
    <h1><a href="/">
      <img src="static/motoma.io.32.inverted.eps.png" alt="motoma.io"
	   text="motoma.io" />
    </h1></a>
  </header>

  <nav>
    <ul>
      <li class="link">
        <a href="/about/" title="Learn more about me" class="link">About</a>
      </li>
        
      <li class="current">
        <a href="/" title="Goto the blog" class="current">Blog</a>
      </li>
        
      <li class="link">
        <a href="/rant/" title="Read my rants" class="link">Rant</a>
      </li>
    </ul>

    <section>
      <a href="http://www.linkedin.com/in/motoma">
	<img src="static/linkedin.png" /></a>
      <a href="http://www.facebook.com/motoma">
	<img src="static/facebook.png" /></a>
      <a href="http://www.twitter.com/motoma">
	<img src="static/twitter.png" /></a>
      <a href="http://gplus.to/motoma">
	<img src="static/gplus.png" /></a>
      <a href="http://www.github.com/motoma">
	<img src="static/github.png" /></a>
    </section>
  </nav>

  <section class="content">
  
    <article>
      <h3><a href="/gumstix-u-boot-1/">Gumstix u-boot 1.2</a></h3>
      <p class="byline author vcard instapaper_ignore entry-unrelated">
        <time class="published" pubdate datetime="2007-07-26">
          2007-07-26</time> by
        <a href="https://plus.google.com/106366683920288141812?rel=author"
           rel="author">Motoma</a>, tagged as
          
          <a href="/tags/gumstix">gumstix</a>
          
          <a href="/tags/hacking">hacking</a>
          
          <a href="/tags/hyperterminal">hyperterminal</a>
          
          <a href="/tags/kermit">kermit</a>
          
          <a href="/tags/kernel">kernel</a>
          
          <a href="/tags/linux">linux</a>
          
          <a href="/tags/programming">programming</a>
          
          <a href="/tags/serial">serial</a>
          
          <a href="/tags/u-boot">u-boot</a>
          
          <a href="/tags/update">update</a>
          
          <a href="/tags/upgrade">upgrade</a>
          
          <a href="/tags/usb">usb</a>
          
          <a href="/tags/verdex">verdex</a>
          
          <a href="/tags/ymodem">ymodem</a>
          
      </p>
      
<p>I took the plunge and, at the <span class=em>risk of bricking my Verdex</span>, updated u-boot. I can only begin to describe the improvements! The process was not nearly as perilous as I anticipated (though I did hold my breath when I rebooted the first time). Noteworthy improvements are the ability to load the kernel directly into the U-Boot environment, and the inclusion of ymodem file transfers over the serial line. The former reduces my boot time to a breathtaking 23 seconds, while the latter reduces rootfs flash time via serial connection by more than half!</p>

<!-- break -->

<p>The process was simple enough: after running a make in the buildroot, you are given three files: rootfs_arm_nofpu.jffs2, u-boot.bin, and uImage. These are your root filesystem, u-boot image, and kernel image, respectively.</p>

<p>The first step in the process of the u-boot upgrade is to replace the u-boot image. I used Hyper Terminal to do the transfer using the Kermit protocol:</p>
<script src="https://gist.github.com/862321.js?file=gistfile1.txt"></script>

<p>Then I sent the root filesystem image to the device using the ymodem protocol:</p>
<script src="https://gist.github.com/862323.js?file=gistfile1.txt"></script>

<p>Finally, I installed the kernel image for U-Boot to use. This means that rather than mounting the jffs2 root filesystem then initializing the kernel, U-Boot can start the kernel directly:</p>
<script src="https://gist.github.com/862324.js?file=gistfile1.txt"></script>

<p>Please note: these are the steps that worked for me; in all circumstances you should follow the latest instructions listed on <a href=http://docwiki.gumstix.org/>The Gumstix Support Wiki</a>.</p>

<p>Hope this helps,</p>
<p>Motoma</p>

    </article>
  </section>

  <aside>
    <section class="projects">
      <ul>
	
	<li class="odd">
	  <a href="/https://code.google.com/p/socksipy-branch/">socksipy-branch</a>
	  <p>A Python SOCKS client module This module was designed to allow developers of Python software that uses the Internet or another TCP/IP-based.</p>
	</li>
	
	<li class="even">
	  <a href="/pyloris/">PyLoris</a>
	  <p>PyLoris is a scriptable tool for testing a server's vulnerability to connection exhaustion denial of service (DoS) attacks.</p>
	</li>
	
	<li class="odd">
	  <a href="/network-raid-storage-proof-of-concept/">Network RAID</a>
	  <p>A Linux-based proof-of-concept technique for building software-RAIDs across disparate networked volumes.</p>
	</li>
	
      </ul>
    </section>

    <section class="random">
      <h4>/dev/urandom</h4>
      <p>"There is no greater importance in all the world like knowing you are
	right and that the wave of the world is wrong, yet the wave crashes 
	upon you."</p>
    </section>

    <section class="links">
      <h4>Blogs I Follow</h4>
      <ul>
        <li><a href="http://devlog.mahcuz.com/">Devlog</a></li>
        <li><a href="http://www.eflorenzano.com/">Die in a Fire</a></li>
        <li><a href="http://www.lostgarden.com">Lost Garden</a></li>
        <li><a href="http://chargen.matasano.com">Matasano Chargen</a></li>
        <li><a href="http://parsedcontent.blogspot.com">
	    { Parsed Content }</a></li>
        <li><a href="http://www.particlesinmotion.com">
	    Particles in Motion</a></li>
        <li><a href="http://www.schneier.com">Schneier on Security</a></li>
        <li><a href="http://teddziuba.com/">Ted Dziuba</a></li>
        <li><a href="http://rdist.root.org">root labs rdist</a></li>
        <li><a href="http://www.veracode.com/blog">ZeroDay Labs</a></li>
      </ul>
    </section>

    <section class="links">
      <h4>Web Comics</h4>
      <ul>
        <li><a href="http://www.eflorenzano.com/">Dresden Codak</a></li>
        <li><a href="http://devlog.mahcuz.com/">XKCD</a></li>
      </ul>
    </section>
  </aside>

  <footer>
    <p>motoma.io and all content therein is copyright of Christopher Gilbert 
      — © 2012 All rights reserved.</p>
  </footer>
</body>
</html>